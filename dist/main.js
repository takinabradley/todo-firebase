(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const e=function(e){return"string"==typeof e&&!(0!==e.length&&!function(e){return(r=e,function(e){if(Array.isArray(e))return t(e)}(r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).every((function(t){return" "===t}));var r}(e))};function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=function(t){return"string"==typeof t},c=function(t){return Date.prototype.isPrototypeOf(t)},u=function(t){switch(t){case"high":case"medium":case"low":return!0;default:return!1}};function l(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&!e(t)&&"object"===i(o))return Object.freeze({get name(){return t},set name(r){"string"!=typeof r||e(r)||(t=r)},get id(){return r},get todos(){return function(){var t=n({},o);for(var e in t)t[e]=n({},t[e]);return t}()},addTodo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"medium";return!(!a(t)||o[t]||!a(r)||!c(n)||!u(i)||(o[t]=function(t,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Date.now();if("string"==typeof t&&!e(t))return{title:t,description:r,duedate:n,priority:o,get id(){return i}}}(t,r,n,i),0))},removeTodo:function(t){return!!o[t]&&(delete o[t],!0)},editTodo:function(t,r,n){if(!o[t])return!1;switch(r){case"title":if(!a(n)||e(n)||o[n])return!1;var i=n,l=t,s=o[l];return s.title=i,delete o[l],o[i]=s,!0;case"description":return!!a(n)&&(o[t].description=n,!0);case"duedate":return!!c(n)&&(o[t].duedate=n,!0);case"priority":return!!u(n)&&(o[t].priority=n,!0);default:return!1}},findTodo:function(t){if(o[t])return n({},o[t])}})}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=document.querySelector(".add-form");const p={form:d,nameInput:d.elements.nameInput,addBtn:d.elements.addBtn,clear:function(){this.nameInput.value=""}};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h,O=document.querySelector(".name-form"),j=(h={},{on:function(t,r){return"string"==typeof t&&!e(t)&&"function"==typeof r&&(h[t]||(h[t]=[]),h[t].push(r),!0)},off:function(t,r){if("string"!=typeof t||e(t)||"function"!=typeof r)return!1;if(h[t]){var n=h[t].indexOf(r);return-1!==n&&(h[t].splice(n,1),0===h[t].length&&delete h[t],!0)}return!1},emit:function(t,e){return!!h[t]&&(h[t].forEach((function(t){t(e)})),!0)},get list(){return function(){var t,e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},h);for(var r in e)e[r]=function(t){if(Array.isArray(t))return b(t)}(t=e[r])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return e}()}});Object.assign(j,{form:O,nameInput:O.elements.nameInput,editBtn:O.elements.editBtn,currentName:"",setCurrentName:function(t){return this.currentName=t,this.currentName},toggleReadOnly:function(){this.nameInput.readOnly?this.unsetReadOnly():this.setReadOnly()},unsetReadOnly:function(){this.nameInput.readOnly=!1,this.nameInput.classList.remove("name-form__name-input--readonly"),this.emit("unsetReadOnly")},setReadOnly:function(){this.nameInput.readOnly=!0,this.nameInput.classList.add("name-form__name-input--readonly"),this.emit("setReadOnly",{currentName:this.currentName,newName:this.nameInput.value})},resizeInput:function(){var t=this.nameInput.value.length+"ch";this.nameInput.style.width=t},scrollToStart:function(){this.nameInput.scrollLeft=0}});const S=j;function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const I={container:document.querySelector(".project-list"),clear:function(){this.container.innerHTML=""},createListElement:function(t){var e=document.createElement("div");return e.dataset.projectName=t,e.textContent=t,e.className="project-list__project-name",e},render:function(t){var e;this.clear();var r,n=t.map(this.createListElement);(e=this.container).append.apply(e,function(t){if(Array.isArray(t))return w(t)}(r=n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},select:function(t){for(var e=0;e<this.container.children.length;e++){var r=this.container.children[e];r.classList.contains("project-list__project-name--selected")&&r.classList.remove("project-list__project-name--selected"),r.dataset.projectName===t&&r.classList.add("project-list__project-name--selected")}}};function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var L=document.querySelector(".todo-list"),E=L.querySelector(".todo-list__column-headings"),F=L.querySelector(".todo-list__todos");const A={nameForm:S,addForm:p,projectList:I,todoList:{container:L,heading:E,todos:F,createTodoElement:function(t){var e=document.createElement("div");return e.className="todo-list__todo",e.textContent="".concat(t.title," | ").concat(t.description," | ").concat(t.duedate," | ").concat(t.priority),e},clearTodos:function(){this.todos.innerHTML=""},renderTodos:function(t){var e;this.clearTodos();var r,n=Object.values(t).map(this.createTodoElement);console.log(n),(e=this.todos).append.apply(e,function(t){if(Array.isArray(t))return P(t)}(r=n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},sidebar:{sidebar:document.querySelector(".todo__sidebar"),toggleButton:document.querySelector(".todo__sidebar-toggle"),hide:function(){this.sidebar.classList.add("todo__sidebar--hidden")},show:function(){this.sidebar.classList.remove("todo__sidebar--hidden")},toggle:function(){this.sidebar.classList.toggle("todo__sidebar--hidden")}}};var _,T=(_={},Object.freeze({get list(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},_)},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_[t])return!1;var n=l(t,e,r);return!!n&&(_[t]=n,!0)},remove:function(t){return!!_[t]&&(delete _[t],!0)},editName:function(t,e){if(_[e]||!_[t])return!1;if(_[t].name=e,_[t].name===e){var r=_[t];return delete _[t],_[e]=r,!0}return!1}}));function D(){A.projectList.clear(),A.projectList.render(Object.keys(T.list))}A.addForm.form.addEventListener("submit",(function(t){t.preventDefault();var e=A.addForm.nameInput.value;T.add(e)&&(D(),A.addForm.clear())})),A.projectList.container.addEventListener("click",(function(t){var e=t.target.dataset.projectName;e&&(A.projectList.select(e),A.nameForm.setCurrentName(e),A.nameForm.nameInput.value=e,A.nameForm.resizeInput(),A.todoList.renderTodos(T.list[e].todos))})),A.sidebar.toggleButton.addEventListener("click",(function(){return A.sidebar.toggle()})),A.nameForm.on("setReadOnly",(function(t){var e=t.currentName,r=t.newName;e!==r&&(T.editName(e,r)?(A.nameForm.setCurrentName(r),A.nameForm.nameInput.value=r,A.nameForm.scrollToStart(),D(),A.projectList.select(r)):A.nameForm.unsetReadOnly(),console.log(T.list))})),A.nameForm.editBtn.addEventListener("click",(function(){return A.nameForm.toggleReadOnly()})),A.nameForm.resizeInput(),A.nameForm.nameInput.addEventListener("input",(function(){return A.nameForm.resizeInput()})),A.nameForm.form.addEventListener("submit",(function(t){t.preventDefault(),A.nameForm.setReadOnly()})),A.nameForm.nameInput.addEventListener("blur",(function(t){t.relatedTarget!==A.nameForm.editBtn&&A.nameForm.setReadOnly()})),A.nameForm.nameInput.addEventListener("dblclick",(function(){A.nameForm.unsetReadOnly()})),document.addEventListener("click",(function(t){var e=t.target;console.log("click"),e!==A.nameForm.nameInput&&e!==A.nameForm.editBtn&&!1===A.nameForm.nameInput.readOnly&&A.nameForm.setReadOnly()}))})();
//# sourceMappingURL=main.js.map